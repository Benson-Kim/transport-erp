@import "tailwindcss";


:root {
  /* Neutral */
  --neutral-white: #FFFFFF;
  --neutral-50: #F8FAFC;
  --neutral-100: #F1F5F9;
  --neutral-200: #E2E8F0;
  --neutral-300: #CBD5E1;
  --neutral-400: #94A3B8;
  --neutral-500: #64748B;
  --neutral-600: #475569;
  --neutral-700: #334155;
  --neutral-900: #0F172A;

  /* Status */
  --status-active-bg: #DBEAFE;
  --status-active-text: #1E40AF;
  --status-active: #3B82F6;

  --status-completed-bg: #D1FAE5;
  --status-completed-text: #065F46;
  --status-completed: #10B981;

  --status-cancelled-bg: #FEE2E2;
  --status-cancelled-text: #991B1B;
  --status-cancelled: #EF4444;

  --status-billed-bg: #E9D5FF;
  --status-billed-text: #6B21A8;
  --status-billed: #8B5CF6;

  /* Interactive */
  --primary: #2563EB;
  --primary-hover: #1D4ED8;
  --primary-pressed: #1E40AF;
  --primary-disabled: #93C5FD;

  --secondary: #FFFFFF;
  --secondary-hover: #F8FAFC;
  --secondary-border: #CBD5E1;

  --danger: #DC2626;
  --danger-hover: #B91C1C;
  --danger-pressed: #991B1B;

  /* Feedback */
  --success-bg: #DCFCE7;
  --success-border: #86EFAC;
  --success-text: #166534;

  --error-bg: #FEE2E2;
  --error-border: #FCA5A5;
  --error-text: #991B1B;

  --warning-bg: #FEF3C7;
  --warning-border: #FCD34D;
  --warning-text: #92400E;

  --info-bg: #DBEAFE;
  --info-border: #93C5FD;
  --info-text: #1E40AF;

  /* Financial */
  --positive-amount: #059669;
  --negative-amount: #DC2626;
  --neutral-amount: #0F172A;

  /* Support surfaces */
  --row-hover: #F8FAFC;
  --row-selected: #EFF6FF;
  --row-cancelled: #FEF2F2;
  --nav-active-text: #1E3A8A;

  /* Spacing (rem) */
  --space-0: 0rem;
  --space-1: 0.25rem; /* 4px */
  --space-2: 0.5rem;  /* 8px */
  --space-3: 0.75rem; /* 12px */
  --space-4: 1rem;    /* 16px */
  --space-6: 1.5rem;  /* 24px */
  --space-8: 2rem;    /* 32px */
  --space-9: 2.25rem; /* 36px */
  --space-12: 3rem;   /* 48px */

  /* Radii */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;

  /* Shadows */
  --shadow-card: 0 1px 3px rgba(0,0,0,0.1);
  --shadow-modal: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);

  /* Typography families */
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  --font-mono: 'SF Mono','Consolas','Monaco','Liberation Mono',monospace;

  /* Transitions */
  --transition-fast: 100ms;
  --transition-normal: 150ms;
  --transition-slow: 200ms;
  --transition-slower: 300ms;

  /* Widths */
  --sidebar-desktop: 15rem;      /* 240px = w-60 */
  --sidebar-tablet: 15rem;
  --sidebar-collapsed: 3.75rem; /* 60px */

  /* Heights */
  --header-height: 4rem;        /* 64px */
  --logo-size: 2rem;            /* 32px */
  --avatar-size: 2.5rem;        /* 40px â€“ used in mobile menu */

  /* Icons */
  --icon-sm: 1.25rem;           /* 20px */
  --icon-md: 1.5rem;            /* 24px */
}

/* Base resets & global typography    */
@layer base {
  html {
    font-family: var(--font-sans);
    /* Base font-size is 16px. We reduce at xl for density, per spec. */
    font-size: 16px;
  }

  @media (min-width: 1280px) {
    html { font-size: 14px; }
  }

  body {
    @apply bg-white text-neutral-900 antialiased;
    font-size: 0.875rem; /* 14px */
    line-height: 1.25rem;
    font-variant-numeric: tabular-nums;
  }

  h1 {
    font-size: 1.5rem; line-height: 2rem; font-weight: 600; letter-spacing: -0.01em;
    color: var(--neutral-900); margin-bottom: 0.5rem;
  }
  h2 {
    font-size: 1.125rem; line-height: 1.75rem; font-weight: 600; letter-spacing: -0.005em;
    color: var(--neutral-900); margin-bottom: 1rem; padding-bottom: 0.75rem; border-bottom: 1px solid var(--neutral-200);
  }
  h3 {
    font-size: 1rem; line-height: 1.5rem; font-weight: 600; color: var(--neutral-700); margin-bottom: 0.75rem;
  }

  /* Focus-visible: keyboard users get a clear ring */
  :focus:not(:focus-visible) { outline: none; }
  :focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
  }

  /* High-contrast and prefers-reduced-motion support */
  @media (prefers-contrast: high) {
    .card, .input, .button { border-width: 2px; }
    body { font-weight: 500; }
    .card { box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
  }
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
    .modal-overlay { transition: opacity 150ms ease; }
  }
  @media (prefers-contrast: more) {
    .text-secondary { color: var(--neutral-700); }
    .border { border-color: var(--neutral-400); }
  }
}

/* Components layer: reusable patterns */
@layer components {
  /* Page container per breakpoint spec */
  .container {
    padding: 1rem; /* 16px */
    max-width: 100%;
  }
  @media (min-width: 768px) {
    .container { padding: 1.25rem; } /* 20px */
  }
  @media (min-width: 1280px) {
    .container { padding: 1.5rem; max-width: 1400px; } /* 24px */
  }
  @media (min-width: 1920px) {
    .container { max-width: 1600px; }
  }

  /* Card */
  .card {
    @apply bg-white border border-neutral-200 rounded-lg;
    box-shadow: var(--shadow-card);
  }

  /* Text */
  .text-sm { font-size: 0.75rem; line-height: 1rem; color: var(--neutral-500); }
  .text-xs { font-size: 0.6875rem; line-height: 0.875rem; color: var(--neutral-400); }
 

  /* Buttons */
  .button {
    @apply cursor-pointer inline-flex items-center justify-center select-none whitespace-nowrap;
    height: 2.5rem; /* 40px */
    padding: 0.625rem 1rem; /* 10px vertical, 16px horizontal */
    border-radius: 0.375rem; /* 6px */
    transition: transform var(--transition-normal) ease, background-color var(--transition-normal) ease;
    font-size: 0.875rem; line-height: 1.25rem; font-weight: 500; letter-spacing: 0.01em;
  }
  .button-text { font-size: 0.875rem; line-height: 1.25rem; font-weight: 500; letter-spacing: 0.01em; }
 
  .button:disabled { @apply opacity-60 cursor-not-allowed; }

  .button-primary {
    color: var(--neutral-white); background-color: var(--primary);
  }
  .button-primary:hover { background-color: var(--primary-hover); transform: scale(1.02); }
  .button-primary:active { background-color: var(--primary-pressed); transform: scale(0.98); }
  .button-primary:disabled { background-color: var(--primary-disabled); }

  .button-secondary {
    color: var(--neutral-900); background-color: var(--secondary);
    border: 1px solid var(--secondary-border);
  }
  .button-secondary:hover { background-color: var(--secondary-hover); transform: scale(1.02); }
  .button-secondary:active { background-color: var(--neutral-100); transform: scale(0.98); }

  .button-danger {
    color: white; background-color: var(--danger);
  }
  .button-danger:hover { background-color: var(--danger-hover); transform: scale(1.02); }
  .button-danger:active { background-color: var(--danger-pressed); transform: scale(0.98); }

  .button-ghost {
    @apply bg-transparent;
    color: var(--primary);
  }
  .button-ghost:hover { background-color: #EFF6FF; transform: scale(1.02); } /* Blue-50 */
  .button-ghost:active { background-color: #DBEAFE; transform: scale(0.98); } /* Blue-100 */

  /* Inputs */
  .input {
    @apply w-full bg-white text-neutral-900 border border-neutral-200 rounded-md;
    height: 2.5rem;
    padding: 0.5rem 0.75rem;
    transition: border-color var(--transition-normal) ease, box-shadow var(--transition-normal) ease;
  }
  .input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px var(--primary);
  }
  .input[aria-invalid="true"], .input.input-error {
    border-color: var(--danger);
    box-shadow: 0 0 0 2px var(--danger);
  }
  .input:disabled, .input.input-disabled {
    background-color: var(--neutral-100);
    border-color: var(--neutral-300);
    color: var(--neutral-500);
  }

  /* Form labels & helper text */
  .form-label {
    display: block;
    font-size: 0.875rem; line-height: 1.25rem; font-weight: 500;
    color: var(--neutral-600); margin-bottom: 0.375rem; /* 6px */
  }
  .form-helper {
    font-size: 0.75rem; line-height: 1rem; color: var(--neutral-500); margin-top: 0.25rem; /* 4px */
  }

  /* Table */
  .table {
    @apply w-full border-collapse;
  }
  .table-header { @apply uppercase tracking-wider font-semibold text-neutral-500; font-size: 0.75rem; line-height: 1rem; }
  .table-cell { font-size: 0.875rem; line-height: 1.25rem; color: var(--neutral-900); }

  .table th {
    font-size: 0.75rem; line-height: 1rem; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase;
    color: var(--neutral-500); height: 2.25rem; /* 36px */
    border-bottom: 1px solid var(--neutral-200);
    padding: 0.75rem; /* 12px */
  }
  .table td {
    font-size: 0.875rem; line-height: 1.25rem; color: var(--neutral-900);
    height: 2.5rem; /* 40px */
    border-bottom: 1px solid var(--neutral-200);
    padding: 0.625rem 0.75rem; /* 10px 12px */
  }
  .row-hover:hover { background-color: var(--row-hover); }
  .row-selected { background-color: var(--row-selected); }
  .row-cancelled { background-color: var(--row-cancelled); opacity: 0.6; }

  /* Badges */
  .badge {
    @apply inline-flex items-center rounded-full border;
    height: 1.5rem; /* 24px */
    padding: 0.25rem 0.75rem; /* 4px 12px */
    font-size: 0.6875rem; line-height: 0.875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em;
    gap: 0.375rem; /* 6px */
  }
  .badge-active { background-color: var(--status-active-bg); color: var(--status-active-text); border-color: var(--status-active); }
  .badge-completed { background-color: var(--status-completed-bg); color: var(--status-completed-text); border-color: var(--status-completed); }
  .badge-cancelled { background-color: var(--status-cancelled-bg); color: var(--status-cancelled-text); border-color: var(--status-cancelled); }
  .badge-billed { background-color: var(--status-billed-bg); color: var(--status-billed-text); border-color: var(--status-billed); }

  /* Navigation states */
  .nav-item {
    @apply flex items-center gap-3 text-neutral-700;
    width: 100%;
    height: 2.75rem; /* 44px */
    padding: 0.75rem 1rem; /* 12px 16px */
    border-left: 4px solid transparent;
    border-radius: 0.5rem; /* visual softness */
    cursor: pointer;
  }
  .nav-item:hover { background-color: var(--neutral-50); }
  .nav-item-active {
    background-color: #EFF6FF; /* Blue-50 */
    border-left-color: var(--primary);
    color: var(--nav-active-text);
    font-weight: 600;
  }

  /* Amounts */
  .amount {
    font-variant-numeric: tabular-nums;
    font-size: 0.875rem; line-height: 1.25rem; font-weight: 500;
    text-align: right;
  }
  .amount-large {
    font-variant-numeric: tabular-nums;
    font-size: 1.25rem; line-height: 1.75rem; font-weight: 600;
    text-align: right;
  }

  /* Monospace identifiers */
  .service-number {
    font-family: var(--font-mono);
    font-size: 0.875rem; line-height: 1.25rem; font-weight: 600; letter-spacing: 0.025em;
  }
  .vat-number {
    font-family: var(--font-mono);
    font-size: 0.8125rem; line-height: 1.125rem; letter-spacing: 0.025em; text-transform: uppercase;
  }

  /* Focus ring utility */
  .focus-ring { box-shadow: 0 0 0 2px var(--primary); }

  /* Skeleton */
  .skeleton {
    @apply bg-neutral-100 rounded-md;
    position: relative; overflow: hidden;
  }
  .skeleton::after {
    content: '';
    position: absolute; inset: 0;
    transform: translateX(-100%);
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
    animation: skeleton 1.2s infinite;
  }

  /* Button icon spacing */
  .button .icon { width: 1rem; height: 1rem; }
  .button .gap-8 { margin-left: 0.5rem; } /* 8px */

  /* Helper color utilities */
  .text-positive { color: var(--positive-amount); }
  .text-negative { color: var(--negative-amount); }
  .text-neutral-amount { color: var(--neutral-amount); }
}

@keyframes skeleton {
  100% { transform: translateX(100%); }
}

/* Utilities layer: tiny helpers       */
@layer utilities {

   /* Layout */
  .layout-header { height: var(--header-height); }
  .layout-sidebar { width: var(--sidebar-desktop); }
  .layout-sidebar-collapsed { width: var(--sidebar-collapsed); }
  .layout-tablet { width: var(--sidebar-tablet); }
  
  /* Icon */
  .avatar { width: var(--avatar-size); height: var(--avatar-size); }
  .logo { width: var(--logo-size); height: var(--logo-size); }
  .icon-sm { width: var(--icon-sm); height: var(--icon-sm); }
  .icon-md { width: var(--icon-md); height: var(--icon-md); }
  
  /* Surface colors */
  .surface-hover { background-color: var(--row-hover); }
  .surface-selected { background-color: var(--row-selected); }
  .surface-cancelled { background-color: var(--row-cancelled); }
  
  /* Text colors using design tokens */
  .text-secondary { color: var(--neutral-500); }
  .text-disabled { color: var(--neutral-400); }
  .text-primary { color: var(--primary); }

  /* Responsive typography adjustments */
  @media (max-width: 1279px) {
    h1 { font-size: 1.375rem; line-height: 1.875rem; } /* 22/30 */
    h2 { font-size: 1.0625rem; line-height: 1.625rem; } /* 17/26 */
  }
  @media (max-width: 767px) {
    h1 { font-size: 1.25rem; line-height: 1.75rem; } /* 20/28 */
    h2 { font-size: 1rem; line-height: 1.5rem; } /* 16/24 */
    .button-text { font-size: 1rem; line-height: 1.5rem; }
  }

  /* Accessibility helpers */
  .sr-only {
    position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
    overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
  }
}